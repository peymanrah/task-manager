# Task Manager Control Tower — Spec

## Overview
Build a professional-grade **Task Manager Control Tower** for VS Code that tracks tasks, subtasks, progress, GitHub links, and activity logs in real-time via a local web UI.

## Architecture
- **Server**: Express 4 + WebSocket (ws) on port 4567
- **Client**: React 18 + Vite + Tailwind CSS (served as static build from server)
- **Data**: JSON file store with chokidar file-watcher for live reload
- **CLI**: ts-node scripts for creating/updating/logging tasks from terminal

## Key Requirements
- [x] No external LLM API calls — all AI interaction via VS Code Copilot chat
- [x] Real-time WebSocket push on data changes
- [x] Glass-morphism dark UI with progress bars, status badges
- [x] Per-task spec.md visible in UI (this document!)
- [x] Dark/light mode toggle with localStorage persistence
- [x] Auto-start server when VS Code workspace opens
- [x] Tests isolated from production data

## Tech Stack
| Layer | Tech |
|-------|------|
| Runtime | Node.js 24.13.0 LTS |
| Server | Express 4.18, ws 8.16, chokidar 3.6 |
| Client | React 18.2, Vite 5, Tailwind 3.4, lucide-react, react-markdown |
| Testing | Jest 29.7 (30/30 passing) |
| VCS | Git + GitHub (peymanrah/task-manager) |

## Considerations
- Server must handle EADDRINUSE gracefully (auto-retry)
- Tests use `TASK_MANAGER_DATA_FILE` env var to avoid wiping production data
- PowerShell `Out-File` adds UTF-8 BOM — always use `[IO.File]::WriteAllText` instead
- Auto-start configured via `.vscode/tasks.json` + `task.allowAutomaticTasks: "on"`

## Status: ✅ Done
